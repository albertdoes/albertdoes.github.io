function i(t){const e={state:t,preactions:{},reactions:{}};let n=-1;return{get(){return e.state},set(o){if(o!==e.state){for(const[r,c]of Object.entries(e.preactions))c(o,e.state);e.state=o;for(const[r,c]of Object.entries(e.reactions))c(e.state)}},attend(o,r,c,a){if(!r&&!o)return{neglect(){}};n+=1;const s=String(n);return r&&Object.assign(e.preactions,{[s]:r}),o&&Object.assign(e.reactions,{[s]:o}),r&&a&&r(e.state),o&&c&&o(e.state),{neglect(){delete e.preactions[s],delete e.reactions[s]}}}}}function m(t,e){const n={};t.querySelectorAll("[data-fetch]").forEach(function(o){let[r,c]=o.getAttribute("data-fetch")?.split(":");n[r]?e(o,n[r][c]):fetch(r).then(a=>a.json()).then(a=>{n[r]=a,e(o,n[r][c])}).catch(a=>console.log(a))})}function l(t,e){const n=i("s");n.attend(o=>{t.setAttribute("data-marquee-direction",o)},void 0,!0),t?.addEventListener("scroll",function(){switch(e==="x"?t.scrollLeft:t.scrollTop){case 0:n.set("s");break;case(e==="x"?t.scrollWidth-t.offsetWidth:t.scrollHeight-t.offsetHeight):n.set("e");break;default:n.set("i");break}})}function h(t,e,n,o){const r=e.split(".");let c,a,s;o??=(d,u,f)=>{d[u]=f};try{if(r.length===1)c=t;else{t[r[0]]===void 0&&(t[r[0]]={}),c=t[r[0]];for(let d=1;d<r.length-1;d++)[a,s]=r.slice(d,d+2),c[a]===void 0&&(c[a]={}),c[a][s]===void 0&&(c[a][s]={}),c=c[a]}return n&&o(c,r.at(-1),n),c[r.at(-1)]}catch(d){console.log(d);return}}function g(t,e){const n=document.createElement("a");n.download=t,n.href="data:application/json,"+encodeURIComponent(e),document.body.appendChild(n),n.click(),document.body.removeChild(n)}function p(t){const e="0123456789";for(let n of t)if(!e.includes(n))return!1;return!0}window.addEventListener("load",function(){{const t=i(sessionStorage.getItem("albertdoes-mode")==="dark");t.attend(e=>{const n=e?"dark":"light";sessionStorage.setItem("albertdoes-mode",n),document.documentElement.setAttribute("data-mode",n)},void 0,!0),document.getElementById("toggle-dark-mode")?.addEventListener("click",()=>t.set(!t.get())),window.matchMedia("(prefers-color-scheme:dark)").addEventListener("change",e=>t.set(e.matches))}{const t=document.getElementById("expand-menu"),e=document.querySelector("#page-menu > :last-child"),n=i(!1);n.attend(o=>{e?.setAttribute("data-menu-expanded",String(o)),t?.setAttribute("data-menu-expanded",String(o))}),document.getElementById("expand-menu")?.addEventListener("click",()=>n.set(!n.get())),e?.querySelectorAll("a").forEach(o=>o.addEventListener("click",()=>n.set(!1)))}{const t={hider:"true",revealer:"false"};for(let e in t)document.querySelectorAll(`[data-${e}]`).forEach(n=>{const o=n.getAttribute(`data-${e}`),r=document.getElementById(o);n.addEventListener("click",()=>{r?.setAttribute("data-hidden",t[e])})})}document.querySelectorAll(".tab-wrapper").forEach(t=>{const e={},n=t.querySelector(".tab-switches");t.querySelectorAll(".tab-body > *").forEach(o=>{const r=document.createElement("div");r.innerHTML=`<span>${o.id.split("_").join(" ")}</span>`,n.appendChild(r);const c=i(!1);c.attend(a=>{if(r.setAttribute("data-tab-selected",String(a)),o.setAttribute("data-tab-selected",String(a)),!!a){for(let s in e)s!==o.id&&e[s].set(!1);r.scrollIntoView(),o.scrollIntoView()}},void 0,!0),e[o.id]=c,r.addEventListener("click",()=>c.set(!0))}),e[Object.keys(e)[0]].set(!0)}),m(document,(t,e)=>t.setAttribute("href",e)),document.querySelectorAll(".marquee-x").forEach(t=>l(t,"x")),document.querySelectorAll(".marquee-y").forEach(t=>l(t,"y")),document.querySelectorAll("[data-goto]").forEach(t=>{t.addEventListener("click",()=>{const e=document.createElement("a");e.setAttribute("href",t.getAttribute("data-goto")),document.body.appendChild(e),e.click(),document.body.removeChild(e)})})});export{h as a,i as c,g as d,p as i};
